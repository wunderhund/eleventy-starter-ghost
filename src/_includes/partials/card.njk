{% macro card(post) %}
    <a class="post-card{% if post.featured %}  post-card-featured{% endif %}" href="{{ post.url }}">
        <header>
            {% if post.feature_image %}
                <img class="post-card-image" src="{{ post.feature_image }}" alt="{{ post.title }}">
            {% endif %}
            <h2 class="post-card-title">
                {{ post.title }}
            </h2>
            <div class="post-card-header">
                <div class="post-card-header-left">
                    {% if post.primary_author.profile_image %}
                    <div class="post-card-avatar">
                        <img
                            class="author-profile-image"
                            src="{{ post.primary_author.profile_image }}"
                            alt="{{ post.primary_author.name }}"
                        />
                    </div>
                    {% endif %}
                    <span>{{ post.primary_author.name }}</span>
                </div>
                <div class="post-card-header-right">
                    <div>{{ post.html | safe | getReadingTime }} min read</div>
                </div>
            </div>
            <div class="post-card-header">
                <div class="post-card-header-left">
                    <span>{{ post.published_at | strunkDateString }}</span>
                </div>
                <div class="post-card-header-right">
                    Tags: {% if post.tags %}{% for tag in post.tags %}{{ tag.name }}{{ ", " if not loop.last else "" }} {% endfor %}{% endif %}
                </div>
            </div>
        </header>
        <div class="post-card-excerpt">
            <p>{{ post.excerpt }}</p>
        </div>
        <footer class="post-card-footer">
            <hr />
        </footer>
    </a>
{% endmacro %}
